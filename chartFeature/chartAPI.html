<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="libraries/chartist/chartist.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <title>Chartist Charts</title>
    <style>
    .ct-series-a,
     .ct-line,
     .ct-point,
     .ct-chart,
     .ct-series-b {
        stroke: blue;
    }
    </style>
</head>

<body>
    <div class="ct-chart ct-perfect-fourth"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
    <script src="libraries/chartist/chartist.js"></script>
    <script type="text/javascript">
        var chartQueryURL = "https://min-api.cryptocompare.com/data/histoday?fsym=BTC&tsym=USD&limit=10&aggregate=3&e=CCCAGG"
        var timeses; 
        $.ajax({
            url: chartQueryURL,
            method: "GET"
        }).then(function (data) {
            var dateString = moment(timeConvert)._d;
            var iterationObject = Object.keys(data.Data)
            var time = data.Data[0].time;
            var timeConvert = time.toString();
            console.log(data.Data);
            for (var i = 0; i < iterationObject.length; i++) {
                timeses = data.Data[i].time;
                var convertedAf = moment.unix(timeses)._d;
                console.log(moment.unix(data.Data[0].time));
                var highPrices = data.Data[i].high;
                var closePrices = data.Data[i].close;
                var lowPrices = data.Data[i].low;
                var volumeFrom = data.Data[i].volumefrom;
                var volumeTo = data.Data[i].volumeto;
                console.log(highPrices, "highPrices");
                console.log(lowPrices, "lowPrices");
                console.log(closePrices, "closePrices");
                console.log(volumeFrom, "volumeFrom");
                console.log(volumeTo, "volumeTo");
                console.log(convertedAf, "times");
            }
            var chartData = {
                // A labels array that can contain any sort of values
                labels: [moment.unix(data.Data[0].time)._d, moment.unix(data.Data[1].time)._d, moment.unix(data.Data[2].time)._d, 
                moment.unix(data.Data[3].time)._d, moment.unix(data.Data[4].time)._d, moment.unix(data.Data[5].time)._d, 
                moment.unix(data.Data[6].time)._d, moment.unix(data.Data[7].time)._d, moment.unix(data.Data[8].time)._d, 
                moment.unix(data.Data[9].time)._d, moment.unix(data.Data[10].time)._d],
                // Our series array that contains series objects or in this case series data arrays
                series: [
                    [data.Data[0].high, data.Data[1].high, data.Data[2].high, 
                     data.Data[3].high, data.Data[4].high, data.Data[5].high, 
                     data.Data[6].high, data.Data[7].high, data.Data[8].high, 
                     data.Data[9].high, data.Data[10].high]
                ]
            };
            // Create a new line chart object where as first parameter we pass in a selector
            // that is resolving to our chart container element. The Second parameter
            // is the actual data object.
            new Chartist.Line('.ct-chart', chartData);
        })
    </script>
</body>

</html>